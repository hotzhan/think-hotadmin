{extend name="public/base" /}

{block name="css"}
{/block}

{block name="js"}
<!-- jquery-validation -->
<script src="__ADMIN__/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="__ADMIN__/plugins/jquery-validation/additional-methods.min.js"></script>
<!-- Toastr -->
<script src="__ADMIN__/plugins/toastr/toastr.min.js"></script>
<!-- layer -->
<script src="__ADMIN__/plugins/layer/layer.js"></script>
<!-- HotAdmin -->
<script src="__STATIC_JS__/hot_admin_form.js"></script>
{/block}

{block name="content"}
<div class="row">
    <div class="col-sm-12">

        <div class="card">
            <div class="card-header">
                <!--<h3 class="card-title">Responsive Hover Table</h3>-->
                <a class="btn btn-sm btn-primary" href="{:_url('add')}" data-toggle="tooltip" title="添加文章"><i class="fa fa-plus"></i> 添加</a>
                <button class="btn btn-sm btn-danger AjaxButton" data-url="{:_url('delete')}" data-id="checked" data-toggle="tooltip" title="删除选中数据"><i class="fa fa-trash"></i> 删除</button>
                <button class="btn btn-sm btn-success AjaxButton" data-url="{:_url('enable')}" data-id="checked" data-toggle="tooltip" title="启用选中数据"><i class="far fa-circle"></i> 启用</button>
                <button class="btn btn-sm btn-warning AjaxButton" data-url="{:_url('disable')}" data-id="checked" data-toggle="tooltip" title="禁用选中数据"><i class="fa fa-ban"></i> 禁用</button>
                <button class="btn btn-sm btn-default ReloadButton" data-toggle="tooltip" title="刷新列表数据"><i class="fa fa-redo"></i> 刷新</button>
                <div class="card-tools">
                    <div class="input-group input-group-sm" style="width: 150px;margin: 0;">
                        <input type="text" name="table_search" class="form-control float-right" placeholder="Search">

                        <div class="input-group-append">
                            <button type="submit" class="btn btn-default">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.card-header -->
            <div class="card-body table-responsive p-0">
                <table class="table table-bordered table-hover text-nowrap">
                    <thead>
                    <tr>
                        <th style="width:60px; padding-left: 0.7rem;">
                            <input type="checkbox" class="checkbox" id="checkAll" />
                        </th>
                        <th style="width:80px;">ID</th>
                        <th>标题</th>
                        <th>标题图片</th>
                        <th>栏目</th>
                        <th>作者</th>
                        <th>状态</th>
                        <th>创建时间</th>
                        <th>更新时间</th>
                        <th style="width:160px;max-width: 160px;">操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    {volist name="articles" id="vo"}
                    <tr>
                        <td style="width:60px; padding-left: 0.7rem;">
                            <input type="checkbox" class="checkbox dataListCheck" value="{$vo.id}"/>
                        </td>
                        <td>{$vo.id}</td>
                        <td>{$vo.title}</td>
                        <td>{if $vo.img!=''} <img src="{$vo.img}" style="width: 50px;height: 50px;" />{else}无{/if}</td>
                        <td>{if $vo.category}{$vo.category.name}{/if}</td>
                        <td>{if $vo.user}{$vo.user.nickname}{/if}</td>
                        <td><span class="{if $vo.status==1}text-success{else}text-danger{/if}">{$vo.status_text}</span></td>
                        <td>{$vo.create_time}</td>
                        <td>{$vo.update_time}</td>
                        <td>
                            <a class="btn btn-xs btn-primary" href="{:_url('edit', ['id'=>$vo.id, 'category_id'=>$vo.category_id])}"><i class="fa fa-edit"></i> 修改</a>
                            <button class="btn btn-xs btn-danger AjaxButton" data-url="{:_url('delete')}" data-id="{$vo.id}"><i class="fa fa-trash"></i> 删除</button>
                            {if $vo.status==1}
                            <button class="btn btn-xs btn-warning AjaxButton" data-url="{:_url('disable')}" data-id="{$vo.id}"><i class="fas fa-ban"></i> 禁用</button>
                            {else}
                            <button class="btn btn-xs btn-success AjaxButton" data-url="{:_url('enable')}" data-id="{$vo.id}"><i class="fas fa-file-code"></i> 启用</button>
                            {/if}
                        </td>
                    </tr>
                    {/volist}
                    </tbody>
                </table>
            </div>
            <!-- /.card-body -->
            <div class="card-footer clearfix">
                {$page|raw}
                {include file='public/change_page' /}
            </div>
            <!-- /.card-footer -->
        </div>
        <!-- /.card -->

    </div>
</div>


{/block}

{block name='footer'}

{/block}


