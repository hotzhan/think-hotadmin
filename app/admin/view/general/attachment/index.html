{extend name="public/base" /}
{block name="css"}{/block}
{block name="js"}{/block}

{block name="content"}
<div class="row">
    <div class="col-sm-12">

        <div class="card">
            <div class="card-header">
                <!--<h3 class="card-title">Responsive Hover Table</h3>-->
                <a class="btn btn-sm btn-primary" href="{:_url('add')}"><i class="fa fa-plus"></i> 添加</a>
                <button class="btn btn-sm btn-danger AjaxButton" data-url="{:_url('del')}" data-id="checked" data-toggle="tooltip" title="删除选中数据"><i class="fa fa-trash"></i> 删除</button>
                <button class="btn btn-sm btn-default ReloadButton" data-toggle="tooltip" title="刷新列表数据"><i class="fa fa-redo"></i> 刷新</button>
                <div class="card-tools">
                    <div class="input-group input-group-sm" style="width: 150px;margin: 0;">
                        <input type="text" name="table_search" class="form-control float-right" placeholder="Search">

                        <div class="input-group-append">
                            <button type="submit" class="btn btn-default">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.card-header -->
            <div class="card-body table-responsive p-0">
                <table class="table table-bordered table-hover text-nowrap">
                    <thead>
                    <tr>
                        <th style="width:60px; padding-left: 0.7rem;">
                            <input type="checkbox" class="checkbox" id="checkAll" />
                        </th>
                        <th style="width:80px;">ID</th>
                        <th>预览</th>
                        <th>原文件名</th>
                        <th>大小</th>
                        <th>类型</th>
                        <th>mime</th>
                        <!--<th>保存路径</th>-->
                        <!--<th>sha1</th>-->
                        <th>上传时间</th>
                        <th style="width:160px;max-width: 160px;">操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    {volist name="attachments" id="vo"}
                    <tr>
                        <td style="width:60px; padding-left: 0.7rem;">
                            <input type="checkbox" class="checkbox dataListCheck" value="{$vo.id}"/>
                        </td>
                        <td>{$vo.id}</td>
                        <td class="imgViewer">
                            {if $vo.filetype=='image'}
                            <img data-original="{$vo.url}" class="btn lazy img-size-50" style="padding:0px;" />
                            {elseif $vo.filetype=='video'}
                            {else}
                            {/if}
                        </td>
                        <td>{$vo.filename}</td>
                        <td>{$vo.filesize|fileSizeToString}</td>
                        <td>{$vo.filetype_text}</td>
                        <td>{$vo.mimetype}</td>
                        <!--<td>{$vo.url}</td>-->
                        <!--<td>{$vo.sha1}</td>-->
                        <td>{$vo.create_time}</td>
                        <td>
                            <!--<a class="btn btn-xs btn-primary" href="{:_url('edit', ['id'=>$vo.id])}"><i class="fa fa-edit"></i> 修改</a>-->
                            <button class="btn btn-xs btn-danger AjaxButton" data-url="{:_url('del')}" data-id="{$vo.id}"><i class="fa fa-trash"></i> 删除</button>
                            <button class="btn btn-xs btn-info">复制链接</button>
                        </td>
                    </tr>
                    {/volist}
                    </tbody>
                </table>
            </div>
            <!-- /.card-body -->
            <div class="card-footer clearfix">
                {$page|raw}
                {include file='public/change_page' /}
            </div>
            <!-- /.card-footer -->
        </div>
        <!-- /.card -->

    </div>
</div>

{/block}



